{
	"name": "Sonnet Scripts Dev Container",
	"dockerComposeFile": "docker-compose.yml",
	"service": "pythonbase",
	"workspaceFolder": "/sonnet-scripts",
	"initializeCommand": [
		"/bin/sh", "-c", "docker compose build pythonbase"
	],
	"features": {
		"ghcr.io/devcontainers/features/docker-outside-of-docker:1": {
			"moby": false
		},
		"ghcr.io/devcontainers/features/git:1": {},
		"ghcr.io/devcontainers/features/common-utils:2": {}
	},
	"customizations": {
		"vscode": {
			"extensions": [
				"ms-python.python"
			],
			"settings": {
				"remote.portsAttributes": {
					"8888": {
						"label": "Jupyter Lab",
						"onAutoForward": "openBrowser"
					},
					"8080": {
						"label": "pgAdmin",
						"onAutoForward": "openBrowser"
					},
					"9001": {
						"label": "MinIO Console",
						"onAutoForward": "openBrowser"
					},
					"9000": {
						"label": "MinIO API",
						"onAutoForward": "openBrowser"
					},
					"5432": {
						"label": "Postgres/DuckDB",
						"onAutoForward": "openBrowser"
					}
				}
			}
		}
	},
	"forwardPorts": [8888, 8080, 9001, 9000, 5432],
	"portsAttributes": {
		"8888": {
			"label": "Jupyter Lab",
			"onAutoForward": "openBrowser",
			"visibility": "public"
		},
		"8080": {
			"label": "pgAdmin",
			"onAutoForward": "openBrowser",
			"visibility": "public"
		},
		"9001": {
			"label": "MinIO Console",
			"onAutoForward": "openBrowser",
			"visibility": "public"
		},
		"9000": {
			"label": "MinIO API",
			"visibility": "public"
		},
		"5432": {
			"label": "Postgres/DuckDB",
			"visibility": "public"
		}
	},
	"postCreateCommand": "make run-all-data-pipelines"
}